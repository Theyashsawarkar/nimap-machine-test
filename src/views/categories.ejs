<!-- /src/views/categories.ejs -->

<h1 class="text-4xl font-bold text-center my-8">Categories</h1>

<div class="container mx-auto">
  <div class="mb-4">
    <a href="/api/categories/add" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Add New Category</a>
  </div>
  
  <table class="min-w-full table-auto border-collapse">
    <thead>
      <tr>
        <th class="border-b p-2">Category ID</th>
        <th class="border-b p-2">Category Name</th>
        <th class="border-b p-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% categories.forEach(category => { %>
        <tr>
          <td class="border-b p-2"><%= category.category_id %></td>
          <td class="border-b p-2"><%= category.category_name %></td>
          <td class="border-b p-2">
            <a href="/api/categories/<%= category.category_id %>" class="text-blue-500 hover:text-blue-700">View</a> |
            <a href="/api/categories/edit/<%= category.category_id %>" class="text-yellow-500 hover:text-yellow-700">Edit</a> |
            <a href="/api/categories/delete/<%= category.category_id %>" class="text-red-500 hover:text-red-700">Delete</a>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>

  <!-- Pagination -->
  <div class="flex justify-center mt-4">
    <% if (page > 1) { %>
      <a href="/api/categories?page=<%= page - 1 %>&pageSize=<%= pageSize %>" class="px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400">Previous</a>
    <% } %>
    <span class="px-4 py-2">Page <%= page %></span>
    <% if (categories.length === pageSize) { %>
      <a href="/api/categories?page=<%= page + 1 %>&pageSize=<%= pageSize %>" class="px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400">Next</a>
    <% } %>
  </div>
</div>

